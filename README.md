# 撞了个球

尝试学习使用cocos creator 进行2d小游戏制作

cocos creator: 3.6.1

## 游戏介绍

> （废弃）通过操作方块，将球形箱体推到一起，三个以上就会消除

> （废弃）操纵界面所有小球，进行合成，在倒计时内尽可能合成最大，取得更高的分数，每次合成会增加一定时间，每三秒会出现新的小球 

> 操纵准星，保护星星，发射炮弹，击打会分裂的小球

## 更新

2022.10.17 （大更新）游戏类型改为射击，保护星星，打会分裂的小球

2022.10.14 更改操作方式，持续操控-> 单次方向操控，避免出现刚体重合情况

2022.10.13 （大更新）游戏类型修改为，合成，物理2048小球碰撞合成

2022.10.11 修改操作为摇杆指令持续，添加刚体墙，并将所有运动都改用物理引擎，现在有弹性效果

2022.10.10 游戏雏形完成



## 后续计划

操作方式修改为两个左右按键

广告接入

## BUG记录

> 节点销毁，存活检测
>
> > 第一次
> >
> > 在消除计算分数时，消灭3个应该是6分，但是总有莫名其妙的bug导致会出现，6分，12分，18分的情况
> >
> > 解决两天未发现问题，索性直接将游戏计分规则变为，随机1，2，3倍
> >
> > 技术太菜，bug当游戏机制
>
> >第二次
> >
> >之前删除子节点使用的是destroy，貌似只是释放，无法及时删除干净
> >
> >最后采用removeChild进行移除，修复了同一节点被多次destroy的bug
>
> > 第三次
> >
> > 计分bug解决，删除子节点采用了`isValid(Node, true)`进行判断
> >
> > 作用：`destroy`与`removeChild`都是在这一帧结束时进行删除，而`node.isValid()`无法判断当前节点是否被`destroy`，通过静态方法`isValid(node, true)`可以判断该节点在该帧是否被调用过`destroy`，所以计分bug**解决**

> 2d刚体碰撞体缩放问题
>
> >第一次
> >
> >刚体在初始化的时候随着节点的大小生成碰撞范围，但是后续如果要动态修改碰撞体除了位置，大小的属性例如缩放，则网上查资料说在修改结束之后，应该用apply()方法进行，重新构建，我尝试了报错
>
> > 第二次
> >
> > apply()方法不行之后，我决定碰撞销毁两个节点，在原位置重新生成一个新的升级节点，不再使用单个节点进行动态修改

> 刚体线速度一直赋值，导致刚体重叠
>
> > 移动时，通过pos移动，结束时给线速度赋值
>
> > 解决方案，玩法更改，不持续移动，一次摇杆只进行一次操作

